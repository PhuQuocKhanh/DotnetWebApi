-- What is 304 HTTP Status Code? -- 
- Mã trạng thái HTTP 304, còn gọi là “Not Modified” (Chưa thay đổi), được sử dụng trong giao tiếp web để thông báo rằng tài nguyên được yêu cầu không có thay đổi nào kể từ lần truy cập gần nhất.
- Mã này thường được sử dụng cùng với yêu cầu GET có điều kiện (conditional GET) nhằm giảm băng thông và tài nguyên xử lý của máy chủ. Nó là một phần của cơ chế caching trong HTTP.

-- How 304 HTTP Status Code Works? --
1.  Yêu cầu ban đầu (Initial Request):
  - Khi client (ví dụ: trình duyệt web) gửi yêu cầu tới server, nó có thể kèm theo các header như:
    - If-Modified-Since: ngày/giờ mà client lần cuối nhận được tài nguyên.
    - If-None-Match: chứa ETag – một giá trị đại diện cho phiên bản cụ thể của tài nguyên.
  - Những header này giúp client hỏi server: “Tài nguyên có thay đổi kể từ lần cuối tôi nhận không?”
2. Phản hồi từ server (Server Response):
  - Khi nhận được yêu cầu, server sẽ so sánh thời gian sửa đổi hoặc giá trị ETag hiện tại của tài nguyên với giá trị mà client cung cấp.
    - Nếu tài nguyên không có thay đổi, server sẽ trả về HTTP Status Code 304, thông báo rằng client có thể dùng lại bản đã cache.
    - Không có nội dung body nào được trả về, từ đó giúp tiết kiệm dữ liệu truyền tải.
3. Hành động của client (Client Action):
  - Khi nhận mã 304, client hiểu rằng tài nguyên vẫn còn hợp lệ trong bộ nhớ đệm (cache), và sẽ sử dụng bản hiện có mà không cần tải lại từ server.

-- Lợi ích của việc sử dụng mã trạng thái HTTP 304 Not Modified --
- Bandwidth Savings: Vì server không gửi lại toàn bộ tài nguyên, nên giảm được lưu lượng truyền tải.
- Faster Load Times: Client có thể dùng lại dữ liệu đã cache, giúp trang tải nhanh hơn.
- Reduced Server Load: Server không cần xử lý lại và gửi lại các tài nguyên không thay đổi, giúp giảm khối lượng công việc xử lý.

-- When Should We Use 304 HTTP Status Code in ASP.NET Core Web API? --
- Mã trạng thái HTTP 304 “Not Modified” rất hữu ích trong các Web API của ASP.NET Core để tối ưu hiệu năng và tiết kiệm băng thông thông qua cơ chế caching (bộ nhớ đệm). Dưới đây là một số tình huống nên sử dụng 304:
  - Tài nguyên tĩnh (Static Resources): Khi phục vụ các tài nguyên tĩnh như hình ảnh, file CSS, JavaScript,... mà ít thay đổi, có thể sử dụng caching và trả về 304 nếu client đã có bản mới nhất.
  - Endpoint API với dữ liệu ít thay đổi: Với các API trả về dữ liệu ít biến động như cấu hình hệ thống, dữ liệu danh mục (reference data), hoặc thông tin hồ sơ người dùng — việc sử dụng 304 giúp tránh gửi lại dữ liệu không thay đổi.
  - Cải thiện hiệu năng phía client: Cho phép client tận dụng phiên bản đã cache thay vì phải tải lại toàn bộ nội dung từ server, từ đó giảm thời gian phản hồi và cải thiện trải nghiệm người dùng.
  - Giảm tải cho server: Tránh việc phải xử lý và gửi lại nội dung không đổi, giúp giảm sử dụng CPU và tài nguyên hệ thống.
  - Tối ưu băng thông: Đặc biệt hữu ích với người dùng có đường truyền hạn chế, khi server không phải gửi lại dữ liệu không thay đổi.

