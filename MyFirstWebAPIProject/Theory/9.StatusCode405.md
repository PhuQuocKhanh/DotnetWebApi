-- 405 HTTP Status Code --
- Mã trạng thái HTTP 405 có tên là "Method Not Allowed" (Phương thức không được hỗ trợ). 
- Lỗi này xảy ra khi tài nguyên không hỗ trợ phương thức HTTP được sử dụng trong yêu cầu. 
- Điều này có nghĩa là máy chủ nhận ra phương thức trong yêu cầu nhưng không cho phép nó đối với tài nguyên được xác định bởi URI. 
- Ví dụ: nếu một client gửi yêu cầu POST đến một URL chỉ chấp nhận GET, máy chủ sẽ trả về mã 405.

-- Common Causes for 405 HTTP Error: --
- Incorrect HTTP Method: Client sử dụng phương thức không đúng cho endpoint (ví dụ: gửi POST đến endpoint chỉ cho phép GET).
- Unsupported HTTP Method: Máy chủ không hỗ trợ phương thức được dùng trong yêu cầu (GET, POST, PUT, DELETE,...) cho tài nguyên cụ thể.
- Misconfigured Routes: Trong ứng dụng web, route có thể bị cấu hình chỉ xử lý một số phương thức nhất định.
- Server Configuration: Máy chủ hoặc framework có thể được thiết lập để từ chối một số phương thức với endpoint cụ thể.

-- How to Return 405 HTTP Status Code in ASP.NET Core Web API --
- Trong ASP.NET Core Web API, chúng ta có thể chủ động trả về mã trạng thái HTTP 405 ("Method Not Allowed") bằng cách sử dụng phương thức StatusCode, sử dụng các thuộc tính HTTP Method hoặc cấu hình API để tự động xử lý bằng Middleware tùy chỉnh.
- Dưới đây là các cách triển khai:
  1. Sử dụng Thuộc tính HTTP Method để Trả về 405
    - Trong ASP.NET Core, chúng ta có thể đánh dấu các phương thức Action bằng các thuộc tính HTTP như [HttpGet], [HttpPost], [HttpPut], [HttpDelete]. Nếu một request sử dụng phương thức không được hỗ trợ, ASP.NET Core sẽ tự động trả về mã 405.
    - Khi truy cập endpoint này bằng GET/PUT/DELETE, hệ thống sẽ trả về:
      - Mã trạng thái 405
      - Header Allow: POST để thông báo phương thức được hỗ trợ
  2. Sử dụng Phương thức StatusCode để Trả về 405
    - Nếu một phương thức không được đánh dấu bằng thuộc tính HTTP cụ thể, chúng ta có thể xử lý thủ công:
    - Khi truy cập bằng phương thức không hỗ trợ (ví dụ GET), API sẽ trả về:
      - Mã trạng thái 405
      - Thông báo tùy chỉnh về các phương thức được hỗ trợ

-- Cách khắc phục lỗi 405: -- 
1. Kiểm tra phương thức HTTP:
  - Đảm bảo bạn đang sử dụng đúng phương thức HTTP (GET, POST, PUT, DELETE, v.v.) cho tài nguyên bạn đang truy cập.

2. Xem lại tài liệu API:
  - Kiểm tra các phương thức được phép cho endpoint trong tài liệu API hoặc mã nguồn.

3. Kiểm tra cấu hình định tuyến (routing):
  - Xác nhận cấu hình routing trong ứng dụng của bạn có hỗ trợ phương thức bạn đang sử dụng.