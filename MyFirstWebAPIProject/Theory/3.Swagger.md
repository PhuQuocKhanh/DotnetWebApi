-- What is Swagger in ASP.NET Core Web API? --
- Swagger, thường được triển khai bằng gói Swashbuckle, là một công cụ mạnh mẽ dùng để tài liệu hóa các API RESTful được phát triển bằng ASP.NET Core Web API. 
- Nó cung cấp cách thức hỗ trợ lập kế hoạch, thiết kế và ghi chép API RESTful. 
- Swagger trong ASP.NET Core Web API giúp lập trình viên tạo, mô tả và sử dụng các API RESTful một cách hiệu quả.
- Swagger (hiện thường được gọi là OpenAPI) hỗ trợ cả nhà phát triển tạo ra API lẫn những người tiêu thụ API. 
- Nó cung cấp tài liệu tương tác trực quan, cho phép người dùng thử nghiệm các lệnh gọi API ngay từ trình duyệt.

-- Key Features of Swagger in ASP.NET Core Web API: --
1. Tài liệu hóa API: 
  - Swagger tự động sinh ra tài liệu API tương tác (gọi là Swagger UI) dựa trên dự án ASP.NET Core Web API. 
  - Tài liệu này bao gồm chi tiết về các endpoint, tham số, cấu trúc request/response và thậm chí cho phép người dùng thử nghiệm API ngay trên giao diện tài liệu. Tài liệu có thể được cập nhật động khi API thay đổi.
2. Chuẩn hóa: 
  - Swagger sử dụng Đặc tả OpenAPI (OAS) - một tiêu chuẩn công nghiệp phổ biến để mô tả API RESTful.
3. Kiểm thử và gỡ lỗi: 
  - Thông qua Swagger UI, lập trình viên có thể gửi request tới API, xem response và kiểm tra chức năng API một cách trực quan mà không cần công cụ riêng biệt hay viết thêm code. 
  - Tính năng tương tác thời gian thực này giúp gỡ lỗi và cải thiện API trong quá trình phát triển.
4. Phiên bản hóa API: 
  - Swagger hỗ trợ quản lý phiên bản API dễ dàng, điều quan trọng để phát triển API mà không làm hỏng tích hợp với các client hiện có. 
  - Nó cung cấp cách thức rõ ràng để thông báo thay đổi và các endpoint không dùng nữa tới người dùng API.

-- Configure Swagger Services: --
- Để cấu hình Swagger API, chúng ta cần thêm các dịch vụ AddEndpointsApiExplorer() và AddSwaggerGen() vào container dependency injection tích hợp sẵn trong phương thức Main của lớp Program.
1. Dịch vụ AddEndpointsApiExplorer():
- Phương thức AddEndpointsApiExplorer() cấu hình dịch vụ API Explorer, chịu trách nhiệm cung cấp metadata về các endpoint API trong ứng dụng ASP.NET Core. Metadata này bao gồm:
  - Tên các Controller và Action
  - Các phương thức HTTP được hỗ trợ (GET, POST, PUT, DELETE,...)
  - Các template route và tham số
  - Kiểu dữ liệu của các tham số đầu vào và đầu ra
- Dịch vụ này rất quan trọng khi sử dụng các thư viện như Swashbuckle để tạo tài liệu Swagger. Nó cho phép tạo metadata API mà các công cụ như Swagger sử dụng để tạo tài liệu dễ đọc cho các endpoint API.
- Phương thức này nên được gọi trước khi thêm Swagger hoặc bất kỳ dịch vụ liên quan đến tài liệu hóa API nào, vì nó chuẩn bị các endpoint API để các công cụ này khám phá và trích xuất dữ liệu.

2. Dịch vụ AddSwaggerGen():
- AddSwaggerGen là một phương thức từ gói Swashbuckle.AspNetCore thêm các dịch vụ tạo Swagger vào dự án.
- Nó tạo tài liệu đặc tả Swagger/OpenAPI (swagger.json) dựa trên metadata API được cung cấp bởi API Explorer. 
- AddSwaggerGen cấu hình và khởi tạo việc tạo đặc tả OpenAPI, bao gồm thông tin về tất cả các đường dẫn, hoạt động và luồng thông tin của API.
- Phương thức này cũng cho phép tùy chỉnh tài liệu Swagger, như thiết lập tiêu đề, phiên bản và thậm chí thêm các mô tả và schema tùy chỉnh. Đặc tả này sau đó được sử dụng để cung cấp năng lượng cho giao diện tài liệu Swagger UI tương tác.

3. Middleware UseSwagger:
- Middleware UseSwagger phục vụ đặc tả Swagger được tạo dưới dạng endpoint JSON. 
- File JSON này là đầu ra của dịch vụ AddSwaggerGen, tạo tài liệu Swagger dựa trên cấu trúc và chú thích của API. 
- Mặc định, middleware UseSwagger làm cho tài liệu này khả dụng tại đường dẫn URL được chỉ định, thường là /swagger/v1/swagger.json.

4. Middleware UseSwaggerUI:
- Middleware UseSwaggerUI cung cấp giao diện người dùng dựa trên web đọc tài liệu Swagger JSON từ UseSwagger và trình bày một trang thân thiện, tương tác với người dùng.
- Trang này cho phép các nhà phát triển xem các endpoint, tham số và các chi tiết quan trọng khác của API. 
- Họ cũng có thể thử nghiệm các lệnh gọi API trực tiếp từ trình duyệt, điều này rất hữu ích cho việc kiểm thử và trình diễn.